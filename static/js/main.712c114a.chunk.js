(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{164:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpFNTE3OEEyQTk5QTAxMUUyOUExNUJDMTA0NkE4OTA0RCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpFNTE3OEEyQjk5QTAxMUUyOUExNUJDMTA0NkE4OTA0RCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkU1MTc4QTI4OTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkU1MTc4QTI5OTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+m4QGuQAAAyRJREFUeNrEl21ojWEYx895TDPbMNlBK46IUiNmPvHBSUjaqc0H8pF5+aDUKPEBqU2NhRQpX5Rv5jWlDIWlMCv7MMSWsWwmb3tpXub4XXWdPHvc9/Gc41nu+nedc7/8r/99PffLdYdDPsvkwsgkTBwsA/PADJCnzX2gHTwBt8Hl7p537/3whn04XoDZDcpBlk+9P8AFcAghzRkJwPF4zGGw0Y9QS0mAM2AnQj77FqCzrtcwB1Hk81SYojHK4DyGuQ6mhIIrBWB9Xm7ug/6B/nZrBHBegrkFxoVGpnwBMSLR9EcEcC4qb8pP14BWcBcUgewMnF3T34VqhWMFkThLJAalwnENOAKiHpJq1FZgI2AT6HZtuxZwR9GidSHtI30jOrbawxlVX78/AbNfhHlomEUJJI89O2MqeE79T8/nk8nMBm/dK576hZgmA3cp/R4l9/UeSxiHLVIlNm4nFfT0bxyuIj7LHRTKai+zdJobwMKzcZSJb0ePV5PKN+BqAAKE47UlMnERELMM3EdYP/yrd+XYb2mOiYBiQ8OQnoRBlXrl9JZix7D1pHTazu4MoyBcnYamqAjIMTR8G4FT8LuhLsexXYYjICBiqhQBvYb6fLZIJCjPypVvaOoVAW2WcasCnL2Nq82xHJNSqlCeFcDshaPK0twkAhosjZL31QYw+1rlMpWGMArl23SBsZZO58F2tlJXmjOXS+s4WGvpMiBJT/I2PInZ6lIs9/hBsNS1hS6BG0DSqmYEDRlCXQrmy50P1oDRKTSegmNbUsA0zDMwRhPJXeCE3vWLPQMvan6X8AgIa1vcR4AkGZkDR4ejJ1UHpsaVI0g2LInpOsNFUud1rhxSV+fzC9Woz2EZkWQuja7/B+jUrgtIMpy9YCW4n4K41YfzRneW5E1KJTe4B2Zq1Q5EHEtj4U3AfEzR5SVY4l7QYQPJdN2as7RKBF0BPZqqH4VgMAMBL8Byxr7y8zCZiDlnOcEKIPmUpgB5Z2ww5RdOiiRiNajUmWda5IG6WbhsyY2fx6m8gLcoJDJFkH219M3We1+cnda93pfycZpIJEL/s/wSYADmOAwAQgdpBAAAAABJRU5ErkJggg=="},242:function(e,t,n){e.exports=n(413)},247:function(e,t,n){},401:function(e,t){},403:function(e,t){},413:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(20),s=n.n(r),l=(n(247),n(23)),o=n(24),c=n(26),u=n(25),d=n(27),p=n(21),h=n(87),m=n.n(h),g=n(16),b=n(80),f=n.n(b),v=n(81),E=n.n(v),S=n(53),j=n.n(S),k=n(40),y=n.n(k),A=n(164),O=n.n(A),w=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"handleChange",value:function(e){this.props.onChange(e)}},{key:"render",value:function(){var e=this,t=this.props.classes;return i.a.createElement("div",{className:t.root},i.a.createElement(f.a,{position:"static",className:t.tab},i.a.createElement(E.a,{value:this.props.page,onChange:function(t,n){return e.handleChange(n)}},i.a.createElement(j.a,{value:"rss",label:"RSS"}),i.a.createElement(j.a,{value:"reddit",label:"Reddit"})),i.a.createElement("div",{className:t.right},i.a.createElement(y.a,{className:t.button,href:"https://github.com/tdloi/feeds-reader"},i.a.createElement("img",{src:O.a,alt:"github icon",className:t.imgIcon}),"Github"))))}}]),t}(i.a.Component),C=Object(g.withStyles)(function(e){return{root:{flexGrow:1,backgroundColor:e.palette.background.paper},tab:{display:"grid",gridTemplateColumns:"2fr 1fr"},right:{display:"flex",justifyContent:"flex-end",marginRight:2*e.spacing.unit},button:{paddingRight:3*e.spacing.unit,paddingLeft:3*e.spacing.unit,color:e.palette.grey.A200},imgIcon:{width:"20px",marginRight:e.spacing.unit,color:e.palette.grey.A200}}})(w),I=n(18),R=n(166),N=n.n(R),B=n(52),L=n.n(B),T=n(82),M=n.n(T),D=n(83),x=n.n(D),U=n(84),Z=n.n(U),J=n(85),W=n.n(J),G=n(86),P=n.n(G);var Y=Object(g.withStyles)({icon:{padding:"2px 5px",borderRadius:"20%"}})(function(e){return i.a.createElement("div",null,i.a.createElement(M.a,{button:!0,onClick:e.onClick},i.a.createElement(x.a,{primary:e.value}),e.displayIcon&&i.a.createElement(Z.a,{onClick:e.onClickIcon},i.a.createElement(W.a,{className:e.classes.icon},i.a.createElement(e.icon,{fontSize:"small"})))),i.a.createElement(P.a,null))}),F=n(17),Q=n(2);function H(e){var t=e.classes,n=e.value;return i.a.createElement("div",{className:t.root},i.a.createElement(F.e,null,n))}H.prototype={classes:Q.PropTypes.object.isRequired};var V=Object(g.withStyles)(function(e){return{root:{margin:"auto",textAlign:"center",padding:e.spacing.unit}}})(H);var X=Object(g.withStyles)(function(e){return{root:Object(I.a)({},e.breakpoints.down("sm"),{width:"100%"})}})(function(e){var t=e.classes,n=e.list,a=e.isEditing,r=e.onClick,s=e.onClickIcon;return i.a.createElement("div",{className:t.root},0===n.length?i.a.createElement(V,{value:"No Item"}):i.a.createElement(L.a,null,n.map(function(e){return i.a.createElement(Y,{key:e.url,value:e.name,displayIcon:a,icon:N.a,onClick:function(){return r(e)},onClickIcon:function(t){return s(t,e)}})})))});var z=Object(g.withStyles)(function(e){var t;return{root:(t={},Object(I.a)(t,e.breakpoints.down("sm"),{minWidth:"100%"}),Object(I.a)(t,e.breakpoints.up("sm"),{minWidth:240}),Object(I.a)(t,e.breakpoints.up("md"),{minWidth:320}),Object(I.a)(t,"backgroundColor",e.palette.background.paper),Object(I.a)(t,"borderRight","solid #757575"),t)}})(function(e){var t=e.classes,n=e.children;return i.a.createElement("section",{className:t.root},n)}),q=Object(g.withStyles)(function(e){var t;return{root:(t={width:"100%",minHeight:"100%"},Object(I.a)(t,e.breakpoints.down("sm"),{display:"block"}),Object(I.a)(t,e.breakpoints.up("sm"),{display:"flex"}),t)}})(function(e){var t=e.classes,n=e.children;return i.a.createElement("div",{className:t.root},n)}),K=n(167),_=n(44),$=n.n(_),ee=n(88),te=n(168),ne=n(173),ae=n.n(ne),ie=n(172),re=n.n(ie),se=n(171),le=n.n(se),oe=n(170),ce=n.n(oe),ue=n(41),de=n.n(ue),pe=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.classes,t=this.props.icon;return i.a.createElement(y.a,{variant:this.props.variant||"contained",color:this.props.color||"primary",disabled:this.props.disabled||!1,onClick:this.props.onClick,className:e.button},this.props.isLoading&&i.a.createElement(de.a,{className:e.progress,size:"10px"}),this.props.value,i.a.createElement(t,{className:e.rightIcon}))}}]),t}(i.a.Component),he=Object(g.withStyles)(function(e){return{button:{margin:e.spacing.unit},rightIcon:{marginLeft:e.spacing.unit},progress:{margin:e.spacing.unit}}})(pe),me=n(43),ge=n.n(me),be=n(42),fe=n.n(be),ve=function(e){return{root:{display:"flex",marginLeft:e.spacing.unit,marginRight:e.spacing.unit},error:{color:"red"}}},Ee=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return i.a.createElement("form",{noValidate:!0,autoComplete:"off"},i.a.createElement(ge.a,{fullWidth:!0,className:this.props.classes.root,value:this.props.value,label:"site name",margin:"normal",name:"name",onChange:this.props.onChange}),i.a.createElement(ge.a,{fullWidth:!0,className:this.props.classes.root,value:this.props.url,label:"url",margin:"normal",name:"url",onChange:this.props.onChange}),this.props.error&&i.a.createElement(fe.a,{className:"".concat(this.props.classes.root," ").concat(this.props.classes.error)},this.props.error))}}]),t}(i.a.Component),Se=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return i.a.createElement("form",{noValidate:!0,autoComplete:"off"},i.a.createElement(ge.a,{fullWidth:!0,className:this.props.classes.root,value:this.props.value,label:"subreddit: reactjs",margin:"normal",name:"url",onChange:this.props.onChange}),this.props.error&&i.a.createElement(fe.a,{className:"".concat(this.props.classes.root," ").concat(this.props.classes.error)},this.props.error))}}]),t}(i.a.Component),je=Object(g.withStyles)(ve)(Ee),ke=Object(g.withStyles)(ve)(Se),ye=n(169);function Ae(e){return e.rss.channel.item}function Oe(e){var t=["title","link","description","item"],n=((e||{}).rss||{}).channel||{};return Object.keys(n).filter(function(e){return t.includes(e)}).length===t.length&&n.item.reduce(function(e,t){return void 0===t.channel&&void 0===t.title||void 0===t.link?e:e.concat(t)},[]).length===n.item.length}function we(e){var t;return new ye.Parser({explicitArray:!1}).parseString(e,function(e,n){t=n}),t}function Ce(e){return e.data.children.map(function(e){return{title:e.data.title,link:e.data.url,description:e.data.selftext,pubDate:Ie(e.data.created_utc)}},[])}function Ie(e){var t=new Date(0);return t.setUTCSeconds(e),t.toDateString()}function Re(e){var t=localStorage.getItem(e);return null===t?[]:JSON.parse(t)}function Ne(e,t){return Be.apply(this,arguments)}function Be(){return(Be=Object(ee.a)($.a.mark(function e(t,n){var a;return $.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://cors-anywhere.herokuapp.com/".concat(t));case 2:if(a=e.sent,"reddit"!==n){e.next=5;break}return e.abrupt("return",a.json().catch(function(e){}));case 5:return e.t0=we,e.next=8,a.text();case 8:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 10:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var Le=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).validateURL=function(){var e=Object(ee.a)($.a.mark(function e(t){var a,i,r,s;return $.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({isFetchingURL:!0}),a="reddit"===n.props.page?"https://reddit.com/r/".concat(t,".json"):t,e.next=4,Ne(a,n.props.page);case 4:i=e.sent,r="reddit"===n.props.page?404!==i.error:Oe(i),s="reddit"===n.props.page?"subreddit does not exist":"Invalid RSS url",r?n.setState({error:null,isValid:!0,isFetchingURL:!1}):n.setState({error:s,isValid:!1,isFetchingURL:!1});case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n.state={add:!1,site:{name:"",url:""},error:null,isValidURL:!1,isFetchingURL:!1},n.handleInputChange=n.handleInputChange.bind(Object(p.a)(Object(p.a)(n))),n.handleClickButtonNew=n.handleClickButtonNew.bind(Object(p.a)(Object(p.a)(n))),n.handleClickButtonEdit=n.handleClickButtonEdit.bind(Object(p.a)(Object(p.a)(n))),n.validateURL=Object(te.debounce)(n.validateURL,1e3),n}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.page!==e.page&&this.setState({add:!1,site:{name:"",url:""},error:null,isValidRSS:!1})}},{key:"handleClickButtonNew",value:function(){this.state.add&&this.props.onAddSite(this.state.site),this.setState({add:!this.state.add,site:{name:"",url:""}})}},{key:"handleClickButtonEdit",value:function(){this.state.add?this.setState({add:!1}):this.props.onToggleEdit()}},{key:"handleInputChange",value:function(e){this.setState({site:Object(K.a)({},this.state.site,Object(I.a)({},e.target.name,e.target.value||"")),error:null,isValid:!1}),e.target.value&&"url"===e.target.name&&this.validateURL(e.target.value)}},{key:"getButtonEditProps",value:function(){var e={value:"Cancel",icon:ce.a,variant:"contained",color:"secondary"};return this.state.add?e:this.props.isEditing?Object.assign(e,{value:"Close"}):{value:"Edit",icon:le.a,variant:"outlined",color:"primary"}}},{key:"isButtonNewDisabled",value:function(){if(this.props.isEditing)return!0;if(this.state.add){if(!this.state.isValid)return!0;var e=this.state.site,t=e.name,n=e.url;return"reddit"===this.props.page?""===n:""===t||""===n}}},{key:"render",value:function(){var e=this.props.classes,t=this.state.add?"Save":"New",n=this.state.add?re.a:ae.a,a=this.getButtonEditProps();return i.a.createElement("div",{className:e.root},i.a.createElement("div",{className:e.buttonGroup},i.a.createElement(he,{value:t,icon:n,onClick:this.handleClickButtonNew,isLoading:this.state.isFetchingURL,disabled:this.isButtonNewDisabled()}),i.a.createElement(he,Object.assign({},a,{onClick:this.handleClickButtonEdit}))),i.a.createElement("div",{className:e.input},this.state.add&&("rss"===this.props.page?i.a.createElement(je,{onChange:this.handleInputChange,value:this.state.site.name,url:this.state.site.url,error:this.state.error}):i.a.createElement(ke,{onChange:this.handleInputChange,url:this.state.site.url,error:this.state.error}))))}}]),t}(i.a.Component),Te=Object(g.withStyles)(function(e){return{root:{borderBottom:"2px solid #757575"},buttonGroup:{display:"flex",justifyContent:"center"},input:{maxWidth:"85%",marginLeft:2*e.spacing.unit,marginRight:2*e.spacing.unit,paddingBottom:2*e.spacing.unit}}})(Le);function Me(e){var t=e.classes;return i.a.createElement("div",{className:t.root},i.a.createElement(de.a,{className:t.circle}))}Me.prototype={classes:Q.PropTypes.object.isRequired};var De=Object(g.withStyles)(function(e){return{root:{display:"flex",justifyContent:"center",minHeight:"250px",margin:"auto"},circle:{margin:"auto"}}})(Me);function xe(e){var t=e.lists,n=e.isLoading;return i.a.createElement(i.a.Fragment,null,n?i.a.createElement(De,null):i.a.createElement("section",null,t.map(function(e){return i.a.createElement(F.a,{key:e.link,component:"article",style:{margin:"0.5rem"}},i.a.createElement(F.d,{target:"_blank",rel:"noreferrer",href:e.link},i.a.createElement(F.c,{title:e.title,subheader:e.pubDate})),i.a.createElement(F.b,null,i.a.createElement(F.e,{component:"p",dangerouslySetInnerHTML:{__html:e.description}})))})))}var Ue=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleSaveSitesToLocalStorage=function(){return localStorage.setItem(n.state.page,JSON.stringify(n.state.listSites))},n.state={page:"rss",siteUrl:"",listSites:[],listArticles:[],isEditing:!1,isLoadingListArticles:!1},n.handleChangePage=n.handleChangePage.bind(Object(p.a)(Object(p.a)(n))),n}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.setState({listSites:Re(this.state.page)}),window.addEventListener("beforeunload",this.handleSaveSitesToLocalStorage)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("beforeunload",this.handleSaveSitesToLocalStorage),this.handleSaveSitesToLocalStorage()}},{key:"handleChangePage",value:function(e){this.handleSaveSitesToLocalStorage(),this.setState({page:e,listSites:Re(e)})}},{key:"handleAddSite",value:function(e){0===this.state.listSites.filter(function(t){return t.url===e.url}).length&&(e.name||(e.name=e.url),this.setState({listSites:this.state.listSites.concat(e)}))}},{key:"handleSelectSite",value:function(e){var t=this,n="reddit"===this.state.page?"https://reddit.com/r/".concat(e.url,".json"):e.url;this.setState({siteUrl:e.url,isLoadingListArticles:!0},function(){Ne(n,t.state.page).then(function(e){var n=function(e,t){var n={rss:Ae,reddit:Ce};return n[e]?n[e](t):[]}(t.state.page,e);void 0===n&&(n=[]),t.setState({listArticles:n,isLoadingListArticles:!1})})})}},{key:"handleDeleteSite",value:function(e,t){e.stopPropagation();var n=this.state.listSites.filter(function(e){return e.url!==t.url});this.setState({listSites:n})}},{key:"handleToggleEdit",value:function(){this.setState({isEditing:!this.state.isEditing})}},{key:"render",value:function(){var e=this;return i.a.createElement(i.a.Fragment,null,i.a.createElement(m.a,null),i.a.createElement(C,{page:this.state.page,onChange:this.handleChangePage}),i.a.createElement(q,null,i.a.createElement(z,null,i.a.createElement("div",null,i.a.createElement(Te,{page:this.state.page,isEditing:this.state.isEditing,onAddSite:function(t){return e.handleAddSite(t)},onToggleEdit:function(){return e.handleToggleEdit()}}),i.a.createElement(X,{onClick:function(t){return e.handleSelectSite(t)},onClickIcon:function(t,n){return e.handleDeleteSite(t,n)},list:this.state.listSites,isEditing:this.state.isEditing}))),i.a.createElement(xe,{lists:this.state.listArticles,isLoading:this.state.isLoadingListArticles})))}}]),t}(a.Component);s.a.render(i.a.createElement(Ue,null),document.getElementById("root"))}},[[242,2,1]]]);
//# sourceMappingURL=main.712c114a.chunk.js.map
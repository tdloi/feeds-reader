(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{202:function(t,e,n){t.exports=n(351)},207:function(t,e,n){},351:function(t,e,n){"use strict";n.r(e);var a=n(0),i=n.n(a),r=n(19),s=n.n(r),l=(n(207),n(21)),o=n(22),c=n(24),u=n(23),d=n(25),h=n(20),p=n(64),m=n.n(p),g=n(16),b=n(55),f=n.n(b),v=n(56),E=n.n(v),S=n(43),j=n.n(S),k=function(t){function e(){return Object(l.a)(this,e),Object(c.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(o.a)(e,[{key:"handleChange",value:function(t){this.props.onChange(t)}},{key:"render",value:function(){var t=this,e=this.props.classes;return i.a.createElement("div",{className:e.root},i.a.createElement(f.a,{position:"static"},i.a.createElement(E.a,{value:this.props.page,onChange:function(e,n){return t.handleChange(n)}},i.a.createElement(j.a,{value:"rss",label:"RSS"}),i.a.createElement(j.a,{value:"reddit",label:"Reddit"}))))}}]),e}(i.a.Component),O=Object(g.withStyles)(function(t){return{root:{flexGrow:1,backgroundColor:t.palette.background.paper}}})(k),y=n(17),C=n(127),w=n.n(C),N=n(42),L=n.n(N),I=n(57),x=n.n(I),B=n(58),A=n.n(B),T=n(59),P=n.n(T),D=n(60),W=n.n(D),R=n(61),U=n.n(R);var J=function(t){return i.a.createElement("div",null,i.a.createElement(x.a,{button:!0,onClick:t.onClick},i.a.createElement(A.a,{primary:t.value}),t.displayIcon&&i.a.createElement(P.a,{onClick:t.onClickIcon},i.a.createElement(W.a,null,i.a.createElement(t.icon,null)))),i.a.createElement(U.a,null))},_=n(18),G=n(2);function q(t){var e=t.classes,n=t.value;return i.a.createElement("div",{className:e.root},i.a.createElement(_.e,null,n))}q.prototype={classes:G.PropTypes.object.isRequired};var F=Object(g.withStyles)(function(t){return{root:{margin:"auto",textAlign:"center",padding:t.spacing.unit}}})(q);var H=Object(g.withStyles)(function(t){return{root:Object(y.a)({},t.breakpoints.down("sm"),{width:"100%"})}})(function(t){var e=t.classes,n=t.list,a=t.isEditing,r=t.onClick,s=t.onClickIcon;return i.a.createElement("div",{className:e.root},0===n.length?i.a.createElement(F,{value:"No Item"}):i.a.createElement(L.a,null,n.map(function(t){return i.a.createElement(J,{key:t.url,value:t.name,displayIcon:a,icon:w.a,onClick:function(){return r(t)},onClickIcon:function(e){return s(e,t)}})})))});var M=Object(g.withStyles)(function(t){var e;return{root:(e={},Object(y.a)(e,t.breakpoints.down("sm"),{minWidth:"100%"}),Object(y.a)(e,t.breakpoints.up("sm"),{minWidth:240}),Object(y.a)(e,t.breakpoints.up("md"),{minWidth:320}),Object(y.a)(e,"backgroundColor",t.palette.background.paper),Object(y.a)(e,"borderRight","solid #757575"),e)}})(function(t){var e=t.classes,n=t.children;return i.a.createElement("section",{className:e.root},n)}),V=Object(g.withStyles)(function(t){var e;return{root:(e={width:"100%",minHeight:"100%"},Object(y.a)(e,t.breakpoints.down("sm"),{display:"block"}),Object(y.a)(e,t.breakpoints.up("sm"),{display:"flex"}),e)}})(function(t){var e=t.classes,n=t.children;return i.a.createElement("div",{className:e.root},n)}),z=n(128),K=n(132),Q=n.n(K),X=n(131),Y=n.n(X),Z=n(130),$=n.n(Z),tt=n(129),et=n.n(tt),nt=n(62),at=n.n(nt),it=function(t){function e(){return Object(l.a)(this,e),Object(c.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(o.a)(e,[{key:"render",value:function(){var t=this.props.classes,e=this.props.icon;return i.a.createElement(at.a,{variant:this.props.variant||"contained",color:this.props.color||"primary",disabled:this.props.disabled||!1,onClick:this.props.onClick,className:t.button},this.props.value,i.a.createElement(e,{className:t.rightIcon}))}}]),e}(i.a.Component),rt=Object(g.withStyles)(function(t){return{button:{margin:t.spacing.unit},rightIcon:{marginLeft:t.spacing.unit}}})(it),st=n(35),lt=n.n(st),ot=function(t){return{root:{marginLeft:t.spacing.unit,marginRight:t.spacing.unit}}},ct=function(t){function e(){return Object(l.a)(this,e),Object(c.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(o.a)(e,[{key:"render",value:function(){return i.a.createElement("form",{noValidate:!0,autoComplete:"off"},i.a.createElement(lt.a,{fullWidth:!0,className:this.props.classes.root,value:this.props.value,label:"site name",margin:"normal",name:"name",onChange:this.props.onChange}),i.a.createElement(lt.a,{fullWidth:!0,className:this.props.classes.root,value:this.props.url,label:"url",margin:"normal",name:"url",onChange:this.props.onChange}))}}]),e}(i.a.Component),ut=function(t){function e(){return Object(l.a)(this,e),Object(c.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(o.a)(e,[{key:"render",value:function(){return i.a.createElement(lt.a,{fullWidth:!0,className:this.props.classes.root,value:this.props.value,label:"subreddit",margin:"normal",name:"url",onChange:this.props.onChange})}}]),e}(i.a.Component),dt=Object(g.withStyles)(ot)(ct),ht=Object(g.withStyles)(ot)(ut),pt=function(t){function e(t){var n;return Object(l.a)(this,e),(n=Object(c.a)(this,Object(u.a)(e).call(this,t))).state={add:!1,site:{name:"",url:""}},n.handleInputChange=n.handleInputChange.bind(Object(h.a)(Object(h.a)(n))),n.handleClickButtonNew=n.handleClickButtonNew.bind(Object(h.a)(Object(h.a)(n))),n.handleClickButtonEdit=n.handleClickButtonEdit.bind(Object(h.a)(Object(h.a)(n))),n}return Object(d.a)(e,t),Object(o.a)(e,[{key:"componentDidUpdate",value:function(t){this.props.page!==t.page&&this.setState({add:!1,site:{name:"",url:""}})}},{key:"handleClickButtonNew",value:function(){this.state.add&&this.props.onAddSite(this.state.site),this.setState({add:!this.state.add,site:{name:"",url:""}})}},{key:"handleClickButtonEdit",value:function(){this.state.add?this.setState({add:!1}):this.props.onToggleEdit()}},{key:"handleInputChange",value:function(t){this.setState({site:Object(z.a)({},this.state.site,Object(y.a)({},t.target.name,t.target.value||""))})}},{key:"renderInput",value:function(){if(this.state.add)return"rss"===this.props.page?i.a.createElement(dt,{onChange:this.handleInputChange,value:this.state.site.name,url:this.state.site.url}):i.a.createElement(ht,{onChange:this.handleInputChange,url:this.state.site.url})}},{key:"getButtonEditProps",value:function(){return this.state.add?{value:"Cancel",icon:et.a,variant:"contained",color:"secondary"}:{value:"Edit",icon:$.a,variant:"outlined",color:"primary"}}},{key:"isButtonNewDisabled",value:function(){if(this.state.add){var t=this.state.site,e=t.name,n=t.url;return"reddit"===this.props.page?""===n:""===e||""===n}}},{key:"render",value:function(){var t=this.props.classes,e=this.state.add?"Save":"New",n=this.state.add?Y.a:Q.a,a=this.getButtonEditProps();return i.a.createElement("div",{className:t.root},i.a.createElement("div",{className:t.buttonGroup},i.a.createElement(rt,{value:e,icon:n,onClick:this.handleClickButtonNew,disabled:this.isButtonNewDisabled()}),i.a.createElement(rt,Object.assign({},a,{onClick:this.handleClickButtonEdit}))),i.a.createElement("div",{className:t.input},this.renderInput()))}}]),e}(i.a.Component),mt=Object(g.withStyles)(function(t){return{root:{borderBottom:"2px solid #757575"},buttonGroup:{display:"flex",justifyContent:"center"},input:{maxWidth:"85%",marginLeft:2*t.spacing.unit,marginRight:2*t.spacing.unit,paddingBottom:2*t.spacing.unit}}})(pt),gt=n(63),bt=n.n(gt);function ft(t){var e=t.classes;return i.a.createElement("div",{className:e.root},i.a.createElement(bt.a,null))}ft.prototype={classes:G.PropTypes.object.isRequired};var vt=Object(g.withStyles)(function(t){return{root:{margin:"auto"}}})(ft);function Et(t){var e=t.lists,n=t.isLoading;return i.a.createElement(i.a.Fragment,null,n?i.a.createElement(vt,null):i.a.createElement("section",null,e.map(function(t){return i.a.createElement(_.a,{key:t.link,component:"article",style:{margin:"0.5rem"}},i.a.createElement(_.d,{target:"_blank",rel:"noreferrer",href:t.link},i.a.createElement(_.c,{title:t.title,subheader:t.pubDate})),i.a.createElement(_.b,null,i.a.createElement(_.e,{component:"p",dangerouslySetInnerHTML:{__html:t.description}})))})))}var St=n(92),jt=n.n(St),kt=n(133);function Ot(t){return t.rss.channel.item}function yt(t){return t.data.children.map(function(t){return{title:t.data.title,link:t.data.url,description:t.data.selftext,pubDate:Ct(t.data.created_utc)}},[])}function Ct(t){var e=new Date(0);return e.setUTCSeconds(t),e.toDateString()}function wt(t){var e=localStorage.getItem(t);return null===e?[]:JSON.parse(e)}function Nt(){return(Nt=Object(kt.a)(jt.a.mark(function t(e,a){var i,r,s,l;return jt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://cors-anywhere.herokuapp.com/".concat(e));case 2:if(i=t.sent,"reddit"!==a){t.next=5;break}return t.abrupt("return",i.json().catch(function(t){}));case 5:return t.next=7,Promise.all([n.e(3),n.e(1)]).then(n.t.bind(null,410,7));case 7:return r=t.sent,s=r.Parser,t.t0=new s({explicitArray:!1}),t.next=12,i.text();case 12:return t.t1=t.sent,t.t2=function(t,e){l=e},t.t0.parseString.call(t.t0,t.t1,t.t2),t.abrupt("return",l);case 16:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}var Lt=function(t){function e(t){var n;return Object(l.a)(this,e),(n=Object(c.a)(this,Object(u.a)(e).call(this,t))).handleSaveSitesToLocalStorage=function(){return localStorage.setItem(n.state.page,JSON.stringify(n.state.listSites))},n.state={page:"rss",siteUrl:"",listSites:[],listArticles:[],isEditing:!1,isLoadingListArticles:!1},n.handleChangePage=n.handleChangePage.bind(Object(h.a)(Object(h.a)(n))),n}return Object(d.a)(e,t),Object(o.a)(e,[{key:"componentDidMount",value:function(){this.setState({listSites:wt(this.state.page)}),window.addEventListener("beforeunload",this.handleSaveSitesToLocalStorage)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("beforeunload",this.handleSaveSitesToLocalStorage),this.handleSaveSitesToLocalStorage()}},{key:"handleChangePage",value:function(t){this.handleSaveSitesToLocalStorage(),this.setState({page:t,listSites:wt(t)})}},{key:"handleAddSite",value:function(t){0===this.state.listSites.filter(function(e){return e.url===t.url}).length&&(t.name||(t.name=t.url),this.setState({listSites:this.state.listSites.concat(t)}))}},{key:"handleSelectSite",value:function(t){var e=this,n="reddit"===this.state.page?"https://reddit.com".concat(t.url,".json"):t.url;this.setState({siteUrl:n,isLoadingListArticles:!0},function(){(function(t,e){return Nt.apply(this,arguments)})(n,e.state.page).then(function(t){var n=function(t,e){var n={rss:Ot,reddit:yt};return n[t]?n[t](e):[]}(e.state.page,t);void 0===n&&(n=[]),e.setState({listArticles:n,isLoadingListArticles:!1})})})}},{key:"handleDeleteSite",value:function(t,e){t.stopPropagation();var n=this.state.listSites.filter(function(t){return t.url!==e.url});this.setState({listSites:n})}},{key:"handleToggleEdit",value:function(){this.setState({isEditing:!this.state.isEditing})}},{key:"render",value:function(){var t=this;return i.a.createElement(i.a.Fragment,null,i.a.createElement(m.a,null),i.a.createElement(O,{page:this.state.page,onChange:this.handleChangePage}),i.a.createElement(V,null,i.a.createElement(M,null,i.a.createElement("div",null,i.a.createElement(mt,{page:this.state.page,onAddSite:function(e){return t.handleAddSite(e)},onToggleEdit:function(){return t.handleToggleEdit()}}),i.a.createElement(H,{onClick:function(e){return t.handleSelectSite(e)},onClickIcon:function(e,n){return t.handleDeleteSite(e,n)},list:this.state.listSites,isEditing:this.state.isEditing}))),i.a.createElement(Et,{lists:this.state.listArticles,isLoading:this.state.isLoadingListArticles})))}}]),e}(a.Component);s.a.render(i.a.createElement(Lt,null),document.getElementById("root"))}},[[202,4,2]]]);
//# sourceMappingURL=main.b2b3407c.chunk.js.map